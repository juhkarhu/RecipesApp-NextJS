(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[836],{536:function(e,t,a){Promise.resolve().then(a.bind(a,1967))},1967:function(e,t,a){"use strict";var r=a(7437),n=a(2265),i=a(2018);t.default=e=>{let{recipeId:t}=e,[a,c]=(0,n.useState)();if((0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/recipe".concat(t?"?id=".concat(t):""));if(!e.ok)throw Error("Recipe not found");let a=await e.json();a.length>0?c(a[0]):console.warn("No recipe found with the given ID")}catch(e){console.error("Error fetching the recipe:",e)}})()},[t]),!a)return(0,r.jsx)("p",{className:"text-white",children:"Loading..."});let l=async(e,t)=>{console.log("Did you like the recipe? Answer: ".concat(t));let r=t?Math.min(a.rating+.1,5):Math.max(a.rating-.1,0);try{await (0,i.L9)(e,Number(r.toFixed(1)))}catch(e){console.error("Error creating recipe:",e)}},{id:s="",name:o="",rating:d="",tags:h=[],categories:m=[],ingredients:p=[],instructions:x=[]}=a;return(0,r.jsxs)("div",{className:"p-6 bg-gray-900 text-white rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-4",children:o}),(0,r.jsxs)("h2",{className:"text-l font-bold mb-4",children:["Rating: ",d]}),(0,r.jsx)("button",{onClick:async()=>{await l(s,!0)},className:"bg-red-600 text-white px-2 py-1 rounded mt-2",children:"\uD83D\uDC4D"}),(0,r.jsx)("button",{onClick:async()=>{await l(s,!1)},className:"bg-red-600 text-white px-2 py-1 rounded mt-2",children:"\uD83D\uDC4E"}),(0,r.jsx)("div",{className:"mb-4",children:h.length>0?h.map((e,t)=>(0,r.jsx)("span",{className:"inline-block bg-gray-700 rounded px-2 py-1 mr-2 text-sm",children:e},t)):(0,r.jsx)("span",{children:"No tags available"})}),(0,r.jsxs)("div",{className:"bg-gray-800 p-4 mb-4 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-bold text-xl mb-2",children:"CATEGORIES"}),(0,r.jsx)("div",{className:"mb-4",children:m.length>0?m.map((e,t)=>(0,r.jsx)("span",{className:"inline-block bg-gray-700 rounded px-2 py-1 mr-2 text-sm",children:e},t)):(0,r.jsx)("span",{children:"No categories available"})})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-bold text-xl mb-2",children:"YOU NEED THESE"}),(0,r.jsx)("ul",{className:"list-decimal pl-5",children:p.length>0?p.map((e,t)=>(0,r.jsxs)("li",{className:"list-disc mb-2",children:[e.quantity," ",e.unit," ",e.name]},t)):(0,r.jsx)("li",{children:"No ingredients available"})})]}),(0,r.jsxs)("div",{className:"flex-1 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-bold text-xl mb-2",children:"THIS IS HOW YOU COOK"}),(0,r.jsx)("ol",{className:"list-decimal pl-5",children:x.length>0?x.map((e,t)=>(0,r.jsx)("li",{className:"mb-2",children:e.text},t)):(0,r.jsx)("li",{children:"No instructions available"})})]})]})]})}},2018:function(e,t,a){"use strict";a.d(t,{L9:function(){return n},Yc:function(){return i},eI:function(){return r}});let r=async e=>{try{let t=await fetch("".concat("","/api/recipe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to add recipe")}return await t.json()}catch(e){throw console.error("Error adding recipe:",e),e}},n=async(e,t)=>{try{let a=await fetch("".concat("","/api/recipe/like/").concat(e,"?newRating=").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"}});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to update rating")}return await a.json()}catch(e){throw console.error("Error updating rating:",e),e}},i=async e=>{try{let t=await fetch("".concat("","/api/recipe/").concat(e),{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to delete recipe")}return!0}catch(e){throw console.error("Error deleting recipe:",e),e}}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=536)}),_N_E=e.O()}]);